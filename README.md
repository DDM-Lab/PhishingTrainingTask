# Phishing Training Task

Singh, K., Aggarwal, P., Rajivan, P., & Gonzalez, C. (2019, November). Training to detect phishing emails: Effects of the frequency of experienced phishing emails. In Proceedings of the human factors and ergonomics society annual meeting (Vol. 63, No. 1, pp. 453-457). Sage CA: Los Angeles, CA: SAGE Publications.

The IBL model was developed initialy by Palvi Aggarwal and Shova Kuikel and later on incremented to include model-fitting and model-tracing by Maria Jos√© Ferreira.



## Data files

The emails dataset and the human experiment dataset are available on OSF: https://osf.io/r83ag/

For this particular implementation we are using:
    - PhisingDataset_HFES2019.csv
    - experiment1-outcomefeedback.csv 
    - DataInformation.txt (dictionary with variables information)

`max_decays_M1.csv` and `max_decays_M2.csv` were generated after running Model-Fitting for each model and they contain the best decay for each participant.

`similarity_matrix_emails_nli_large.csv`, `similarity_matrix_sender_nli_large.csv` and `similarity_matrix_subject_nli_large.csv` were generated for each of the features used in our IBL model using a pre-trained language model of Bidirectional Encoder Representation of Transformer (BERT). The development of these similarity calculations was done by Palvi Aggarwal and Shova Kuikel.

**NOTE:** For convenience we have added the csv files in the folder `Data`.

## A tour of the code

- `tracingModel1.py` and `tracingModel2.py` have the developped IBL model.

- `confusionMatric.py` contains functions to generate confusion matrixes and learning curves in different settings.
    - To run this code, you will need the files `Tracing_Data_Personalized_M1.csv` and `Tracing_Data_Personalized_M2.csv` generated by the `tracingModel1.py` and `tracingModel2.py` scripts available in the folder ``
    - This script will generate automatically images in the `.PNG` format with confusion matrixes and learning curves of the `Model Predictions` and/or the `Human Choices` in different settings. These images will be automaticaly stored in a folder named `Plots_{path}\Individual` in the root of the project. `{path}` is replaced by either `Tracing_ConfusionMatrixes_2` or `Tracing_LearningCurves_2` depending on the settings analysed.





## Installation

Ensure Python version 3.8 or later is installed.

Run `python3 -m venv venv` to create a virtual environment.

Run `source env/bin/activate` to activate the virtual environment.

Run `pip install -r requirements.txt` to install the required Python packages into the virtual environment.

**NOTE:** If you do not want to create a virtual enviroment, just run `pip install -r requirements.txt`.



## More information

For more information or details, please contact [ddmlab@andrew.cmu.edu](mailto:ddmlab@andrew.cmu.edu).